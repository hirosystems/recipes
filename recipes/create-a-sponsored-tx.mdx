---
id: create-a-sponsored-tx
title: Create a sponsored transaction using Stacks.js
description: Create a sponsored transaction using Stacks.js.
date: 2025.01.20
categories:
  - stacks.js
tags:
  - sponsored
  - transactions
  - sponsored-transactions
  - broadcast
dependencies:
  "@stacks/network": "^7.0.2"
  "@stacks/common": "^7.0.2"
  "@stacks/transactions": "^7.0.2"
files:
  - name: create-a-sponsored-tx.ts
    path: lib/create-a-sponsored-tx.ts
    type: typescript
---

```typescript
import { STACKS_TESTNET } from "@stacks/network";
import { bytesToHex } from "@stacks/common";
import {
  broadcastTransaction,
  deserializeTransaction,
  makeContractCall,
  sponsorTransaction,
} from "@stacks/transactions";

const txOptions = {
  contractAddress: "<contract-address>",
  contractName: "<contract-name>",
  functionName: "<function-name>",
  functionArgs: [], // use the `Cl` helper from `@stacks/transactions` to pass in arguments if needed
  fee: 0,
  senderKey:
    "b244296d5907de9864c0b0d51f98a13c52890be0404e83f273144cd5b9960eed01",
  validateWithAbi: true,
  sponsored: true,
  network: STACKS_TESTNET,
};

const transaction = await makeContractCall(txOptions);
const serializedTx = bytesToHex(transaction.serializeBytes());
const deserializedTx = deserializeTransaction(serializedTx);

const sponsorKey = "<sponsor-private-key>";
const fee = 1000n;

const sponsorOptions = {
  transaction: deserializedTx,
  sponsorPrivateKey: sponsorKey,
  fee,
  sponsorNonce: 0,
  network: STACKS_TESTNET,
};

const sponsoredTx = await sponsorTransaction(sponsorOptions);
console.log({ sponsoredTx });

const broadcastResponse = await broadcastTransaction({
  transaction: sponsoredTx,
});
const txId = broadcastResponse.txid;
console.log({ txId });
```