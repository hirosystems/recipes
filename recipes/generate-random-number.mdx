---
id: generate-random-number
title: Generate a random number with block-height
description: Create a random number based on a block-height using the buff-to-uint-be function in Clarity.
date: 2025.01.13
categories:
  - clarity
tags:
  - blocks
dependencies: []
files:
  - name: random.clar
    path: contracts/random.clar
    type: clarity
external_url: https://play.hiro.so/?epoch=3.1&snippet=KGRlZmluZS1jb25zdGFudCBFUlJfRkFJTCAoZXJyIHUxMDAwKSkKCihkZWZpbmUtcmVhZC1vbmx5IChyZWFkLXJuZCAoYmxvY2sgdWludCkpCiAgKG9rIChidWZmLXRvLXVpbnQtYmUgKHVud3JhcC1wYW5pYyAoYXMtbWF4LWxlbj8gKHVud3JhcC1wYW5pYyAoc2xpY2U_ICh1bndyYXAhIChnZXQtc3RhY2tzLWJsb2NrLWluZm8_IGlkLWhlYWRlci1oYXNoIGJsb2NrKSBFUlJfRkFJTCkgdTE2IHUzMikpIHUxNikpKSkKKQ
---

```clarity
(define-constant ERR_FAIL (err u1000))

(define-read-only (read-rnd (block uint))
  ;; !hover id-header-hash
  ;; !mark[/id-header-hash/]
  (ok (buff-to-uint-be (unwrap-panic (as-max-len? (unwrap-panic (slice? (unwrap! (get-stacks-block-info? id-header-hash block) ERR_FAIL) u16 u32)) u16))))
)
```